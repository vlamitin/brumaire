const vendemiare_en = {
    name: 'Vendémiaire',
    season: 'Autumn',
    img: 'https://upload.wikimedia.org/wikipedia/commons/c/cd/Vend%C3%A9miaire_commence_le_22_septembre.jpg',
    days: [
        { date: '22-09', name: 'Grape' },
        { date: '23-09', name: 'Saffron' },
        { date: '24-09', name: 'Chestnut' },
        { date: '25-09', name: 'Autumn Crocus' },
        { date: '26-09', name: 'Horse' },
        { date: '27-09', name: 'Impatiens' },
        { date: '28-09', name: 'Carrot' },
        { date: '29-09', name: 'Amaranth' },
        { date: '30-09', name: 'Parsnip' },
        { date: '01-10', name: 'Vat' },
        { date: '02-10', name: 'Potato' },
        { date: '03-10', name: 'Strawflower' },
        { date: '04-10', name: 'Winter squash' },
        { date: '05-10', name: 'Mignonette' },
        { date: '06-10', name: 'Donkey' },
        { date: '07-10', name: 'Four o\'clock flower' },
        { date: '08-10', name: 'Pumpkin' },
        { date: '09-10', name: 'Buckwheat' },
        { date: '10-10', name: 'Sunflower' },
        { date: '11-10', name: 'Wine-Press' },
        { date: '12-10', name: 'Hemp' },
        { date: '13-10', name: 'Peach' },
        { date: '14-10', name: 'Turnip' },
        { date: '15-10', name: 'Amaryllis' },
        { date: '16-10', name: 'Ox' },
        { date: '17-10', name: 'Eggplant' },
        { date: '18-10', name: 'Chili pepper' },
        { date: '19-10', name: 'Tomato' },
        { date: '20-10', name: 'Barley' },
        { date: '21-10', name: 'Barrel' },
    ]
}

const brumaire_en = {
    name: 'Brumaire',
    season: 'Autumn',
    img: 'https://upload.wikimedia.org/wikipedia/commons/6/62/Brumaire_commence_le_23_octobre.jpg',
    days: [
        { date: '22-10', name: 'Apple' },
        { date: '23-10', name: 'Celery' },
        { date: '24-10', name: 'Pear' },
        { date: '25-10', name: 'Beetroot' },
        { date: '26-10', name: 'Goose' },
        { date: '27-10', name: 'Heliotrope' },
        { date: '28-10', name: 'Common fig' },
        { date: '29-10', name: 'Black Salsify' },
        { date: '30-10', name: 'Chequer Tree' },
        { date: '31-10', name: 'Plough' },
        { date: '01-11', name: 'Salsify' },
        { date: '02-11', name: 'Water caltrop' },
        { date: '03-11', name: 'Jerusalem artichoke' },
        { date: '04-11', name: 'Endive' },
        { date: '05-11', name: 'Turkey' },
        { date: '06-11', name: 'Skirret' },
        { date: '07-11', name: 'Watercress' },
        { date: '08-11', name: 'Leadworts' },
        { date: '09-11', name: 'Pomegranate' },
        { date: '10-11', name: 'Harrow' },
        { date: '11-11', name: 'Baccharis' },
        { date: '12-11', name: 'Azarole' },
        { date: '13-11', name: 'Madder' },
        { date: '14-11', name: 'Orange' },
        { date: '15-11', name: 'Pheasant' },
        { date: '16-11', name: 'Pistachio Nut' },
        { date: '17-11', name: 'Tuberous pea' },
        { date: '18-11', name: 'Quince' },
        { date: '19-11', name: 'Service tree' },
        { date: '20-11', name: 'Roller' },
    ],
}

const frimaire_en = {
    name: 'Frimaire',
    season: 'Autumn',
    img: 'https://upload.wikimedia.org/wikipedia/commons/e/e3/Frimaire_commence_le_22_novembre.jpg',
    days: [
        { date: '21-11', name: 'Rampion' },
        { date: '22-11', name: 'Cattle turnip' },
        { date: '23-11', name: 'Chicory' },
        { date: '24-11', name: 'Medlar' },
        { date: '25-11', name: 'Pig' },
        { date: '26-11', name: 'Lamb\'s lettuce' },
        { date: '27-11', name: 'Cauliflower' },
        { date: '28-11', name: 'Honey' },
        { date: '29-11', name: 'Juniper' },
        { date: '30-11', name: 'Pickaxe' },
        { date: '01-12', name: 'Wax' },
        { date: '02-12', name: 'Horseradish' },
        { date: '03-12', name: 'Cedar tree' },
        { date: '04-12', name: 'Fir' },
        { date: '05-12', name: 'Roe deer' },
        { date: '06-12', name: 'Gorse' },
        { date: '07-12', name: 'Cypress Tree' },
        { date: '08-12', name: 'Ivy' },
        { date: '09-12', name: 'Savin Juniper' },
        { date: '10-12', name: 'Grub-hoe' },
        { date: '11-12', name: 'Sugar Maple' },
        { date: '12-12', name: 'Heather' },
        { date: '13-12', name: 'Reed plant' },
        { date: '14-12', name: 'Sorrel' },
        { date: '15-12', name: 'Cricket' },
        { date: '16-12', name: 'Pine nut' },
        { date: '17-12', name: 'Cork' },
        { date: '18-12', name: 'Truffle' },
        { date: '19-12', name: 'Olive' },
        { date: '20-12', name: 'Shovel' },
    ],
}

const nivose_en = {
    name: 'Nivôse',
    season: 'Winter',
    img: 'https://upload.wikimedia.org/wikipedia/commons/b/b6/Niv%C3%B4se_commence_le_22_d%C3%A9cembre.jpg',
    days: [
        { date: '21-12', name: 'Peat' },
        { date: '22-12', name: 'Coal' },
        { date: '23-12', name: 'Bitumen' },
        { date: '24-12', name: 'Sulphur' },
        { date: '25-12', name: 'Dog' },
        { date: '26-12', name: 'Lava' },
        { date: '27-12', name: 'Topsoil' },
        { date: '28-12', name: 'Manure' },
        { date: '29-12', name: 'Saltpeter' },
        { date: '30-12', name: 'Flail' },
        { date: '31-12', name: 'Granite' },
        { date: '01-01', name: 'Clay' },
        { date: '02-01', name: 'Slate' },
        { date: '03-01', name: 'Sandstone' },
        { date: '04-01', name: 'Rabbit' },
        { date: '05-01', name: 'Flint' },
        { date: '06-01', name: 'Marl' },
        { date: '07-01', name: 'Limestone' },
        { date: '08-01', name: 'Marble' },
        { date: '09-01', name: 'Winnowing fan' },
        { date: '10-01', name: 'Gypsum' },
        { date: '11-01', name: 'Salt' },
        { date: '12-01', name: 'Iron' },
        { date: '13-01', name: 'Copper' },
        { date: '14-01', name: 'Cat' },
        { date: '15-01', name: 'Tin' },
        { date: '16-01', name: 'Lead' },
        { date: '17-01', name: 'Zinc' },
        { date: '18-01', name: 'Mercury' },
        { date: '19-01', name: 'Sieve' },
    ],
}

const pluviose_en = {
    name: 'Pluviôse',
    season: 'Winter',
    img: 'https://upload.wikimedia.org/wikipedia/commons/0/09/Pluvi%C3%B4se_commence_le_21_ou_22_janvier.jpg',
    days: [
        { date: '20-01', name: 'Spurge-laurel' },
        { date: '21-01', name: 'Moss' },
        { date: '22-01', name: 'Butcher\'s Broom' },
        { date: '23-01', name: 'Snowdrop' },
        { date: '24-01', name: 'Bull' },
        { date: '25-01', name: 'Laurustinus' },
        { date: '26-01', name: 'Tinder polypore' },
        { date: '27-01', name: 'Daphne mezereum' },
        { date: '28-01', name: 'Poplar' },
        { date: '29-01', name: 'Axe' },
        { date: '30-01', name: 'Hellebore' },
        { date: '31-01', name: 'Broccoli' },
        { date: '01-02', name: 'Bay laurel' },
        { date: '02-02', name: 'Filbert' },
        { date: '03-02', name: 'Cow' },
        { date: '04-02', name: 'Box Tree' },
        { date: '05-02', name: 'Lichen' },
        { date: '06-02', name: 'Yew tree' },
        { date: '07-02', name: 'Lungwort' },
        { date: '08-02', name: 'Billhook' },
        { date: '09-02', name: 'Pennycress' },
        { date: '10-02', name: 'Rose Daphne' },
        { date: '11-02', name: 'Couch grass' },
        { date: '12-02', name: 'Common Knotgrass' },
        { date: '13-02', name: 'Hare' },
        { date: '14-02', name: 'Woad' },
        { date: '15-02', name: 'Hazel' },
        { date: '16-02', name: 'Cyclamen' },
        { date: '17-02', name: 'Celandine' },
        { date: '18-02', name: 'Sleigh' },
    ],
}

const ventose_en = {
    name: 'Ventôse',
    season: 'Winter',
    img: 'https://upload.wikimedia.org/wikipedia/commons/7/7a/Vent%C3%B4se_commence_le_20_ou_21_f%C3%A9vrier.jpg',
    days: [
        { date: '19-02', name: 'Coltsfoot' },
        { date: '20-02', name: 'Dogwood' },
        { date: '21-02', name: 'Matthiola' },
        { date: '22-02', name: 'Privet' },
        { date: '23-02', name: 'Billygoat' },
        { date: '24-02', name: 'Wild Ginger' },
        { date: '25-02', name: 'Italian Buckthorn' },
        { date: '26-02', name: 'Violet' },
        { date: '27-02', name: 'Goat Willow' },
        { date: '28-02', name: 'Spade' },
        { date: '01-03', name: 'Narcissus' },
        { date: '02-03', name: 'Elm' },
        { date: '03-03', name: 'Common fumitory' },
        { date: '04-03', name: 'Hedge mustard' },
        { date: '05-03', name: 'Goat' },
        { date: '06-03', name: 'Spinach' },
        { date: '07-03', name: 'Doronicum' },
        { date: '08-03', name: 'Pimpernel' },
        { date: '09-03', name: 'Chervil' },
        { date: '10-03', name: 'Gardener\'s Line' },
        { date: '11-03', name: 'Mandrake' },
        { date: '12-03', name: 'Parsley' },
        { date: '13-03', name: 'Scurvy-grass' },
        { date: '14-03', name: 'Daisy' },
        { date: '15-03', name: 'Tuna' },
        { date: '16-03', name: 'Dandelion' },
        { date: '17-03', name: 'Wood Anemone' },
        { date: '18-03', name: 'Maidenhair fern' },
        { date: '19-03', name: 'Ash tree' },
        { date: '20-03', name: 'Dibber)' },
    ],
}

const germinal_en = {
    name: 'Germinal',
    season: 'Spring',
    img: 'https://upload.wikimedia.org/wikipedia/commons/0/0a/Germinal_commence_le_21_ou_22_mars.jpg',
    days: [
        { date: '21-03', name: 'Primrose' },
        { date: '22-03', name: 'Plane Tree' },
        { date: '23-03', name: 'Asparagus' },
        { date: '24-03', name: 'Tulip' },
        { date: '25-03', name: 'Hen' },
        { date: '26-03', name: 'Chard' },
        { date: '27-03', name: 'Birch' },
        { date: '28-03', name: 'Daffodil' },
        { date: '29-03', name: 'Alder' },
        { date: '30-03', name: 'Incubator' },
        { date: '31-03', name: 'Periwinkle' },
        { date: '01-04', name: 'Hornbeam' },
        { date: '02-04', name: 'Morel' },
        { date: '03-04', name: 'Beech Tree' },
        { date: '04-04', name: 'Bee' },
        { date: '05-04', name: 'Lettuce' },
        { date: '06-04', name: 'Larch' },
        { date: '07-04', name: 'Hemlock' },
        { date: '08-04', name: 'Radish' },
        { date: '09-04', name: 'Beehive' },
        { date: '10-04', name: 'Judas tree' },
        { date: '11-04', name: 'Romaine lettuce' },
        { date: '12-04', name: 'Horse chestnut' },
        { date: '13-04', name: 'Arugula or Rocket' },
        { date: '14-04', name: 'Pigeon' },
        { date: '15-04', name: 'Lilac' },
        { date: '16-04', name: 'Anemone' },
        { date: '17-04', name: 'Pansy' },
        { date: '18-04', name: 'Bilberry' },
        { date: '19-04', name: 'Grafting knife' },
    ],
}

const floreal_en = {
    name: 'Floréal',
    season: 'Spring',
    img: 'https://upload.wikimedia.org/wikipedia/commons/f/fe/Flor%C3%A9al_commence_le_21_avril.jpg',
    days: [
        { date: '20-04', name: 'Rose' },
        { date: '21-04', name: 'Oak Tree' },
        { date: '22-04', name: 'Fern' },
        { date: '23-04', name: 'Hawthorn' },
        { date: '24-04', name: 'Nightingale' },
        { date: '25-04', name: 'Common Columbine' },
        { date: '26-04', name: 'Lily of the valley' },
        { date: '27-04', name: 'Button mushroom' },
        { date: '28-04', name: 'Hyacinth' },
        { date: '29-04', name: 'Rake' },
        { date: '30-04', name: 'Rhubarb' },
        { date: '01-05', name: 'Sainfoin' },
        { date: '02-05', name: 'Wallflower' },
        { date: '03-05', name: 'Fan Palm tree' },
        { date: '04-05', name: 'Silkworm' },
        { date: '05-05', name: 'Comfrey' },
        { date: '06-05', name: 'Salad burnet' },
        { date: '07-05', name: 'Basket of Gold' },
        { date: '08-05', name: 'Orache' },
        { date: '09-05', name: 'Weeding hoe' },
        { date: '10-05', name: 'Sea thrift' },
        { date: '11-05', name: 'Fritillary' },
        { date: '12-05', name: 'Borage' },
        { date: '13-05', name: 'Valerian' },
        { date: '14-05', name: 'Carp' },
        { date: '15-05', name: 'Euonymus' },
        { date: '16-05', name: 'Chives' },
        { date: '17-05', name: 'Bugloss' },
        { date: '18-05', name: 'White mustard' },
        { date: '19-05', name: 'Shepherd\'s crook' },
    ],
}

const prairial_en = {
    name: 'Prairial',
    season: 'Spring',
    img: 'https://upload.wikimedia.org/wikipedia/commons/4/4b/Prairial_commence_le_21_mai.jpg',
    days: [
        { date: '20-05', name: 'Lucerne' },
        { date: '21-05', name: 'Daylily' },
        { date: '22-05', name: 'Clover' },
        { date: '23-05', name: 'Angelica' },
        { date: '24-05', name: 'Duck' },
        { date: '25-05', name: 'Lemon balm' },
        { date: '26-05', name: 'Oat grass' },
        { date: '27-05', name: 'Martagon lily' },
        { date: '28-05', name: 'Wild Thyme' },
        { date: '29-05', name: 'Scythe' },
        { date: '30-05', name: 'Strawberry' },
        { date: '31-05', name: 'Betony' },
        { date: '01-06', name: 'Pea' },
        { date: '02-06', name: 'Acacia' },
        { date: '03-06', name: 'Quail' },
        { date: '04-06', name: 'Carnation' },
        { date: '05-06', name: 'Elderberry' },
        { date: '06-06', name: 'Poppy plant' },
        { date: '07-06', name: 'Linden or Lime tree' },
        { date: '08-06', name: 'Pitchfork' },
        { date: '09-06', name: 'Cornflower' },
        { date: '10-06', name: 'Camomile' },
        { date: '11-06', name: 'Honeysuckle' },
        { date: '12-06', name: 'Bedstraw' },
        { date: '13-06', name: 'Tench' },
        { date: '14-06', name: 'Jasmine' },
        { date: '15-06', name: 'Vervain' },
        { date: '16-06', name: 'Thyme' },
        { date: '17-06', name: 'Peony' },
        { date: '18-06', name: 'Handcart' },
    ],
}

const messidor_en = {
    name: 'Messidor',
    season: 'Summer',
    img: 'https://upload.wikimedia.org/wikipedia/commons/a/af/Messidor_commence_le_21_ou_22_juin.jpg',
    days: [
        { date: '19-06', name: 'Rye' },
        { date: '20-06', name: 'Oat' },
        { date: '21-06', name: 'Onion' },
        { date: '22-06', name: 'Speedwell' },
        { date: '23-06', name: 'Mule' },
        { date: '24-06', name: 'Rosemary' },
        { date: '25-06', name: 'Cucumber' },
        { date: '26-06', name: 'Shallot' },
        { date: '27-06', name: 'Wormwood' },
        { date: '28-06', name: 'Sickle' },
        { date: '29-06', name: 'Coriander' },
        { date: '30-06', name: 'Artichoke' },
        { date: '01-07', name: 'Clove' },
        { date: '02-07', name: 'Lavender' },
        { date: '03-07', name: 'Chamois' },
        { date: '04-07', name: 'Tobacco' },
        { date: '05-07', name: 'Redcurrant' },
        { date: '06-07', name: 'Hairy Vetchling' },
        { date: '07-07', name: 'Cherry' },
        { date: '08-07', name: 'Park' },
        { date: '09-07', name: 'Mint' },
        { date: '10-07', name: 'Cumin' },
        { date: '11-07', name: 'Bean' },
        { date: '12-07', name: 'Alkanet' },
        { date: '13-07', name: 'Guineafowl' },
        { date: '14-07', name: 'Sage' },
        { date: '15-07', name: 'Garlic' },
        { date: '16-07', name: 'Tare' },
        { date: '17-07', name: 'Wheat' },
        { date: '18-07', name: 'Shawm)' },
    ],
}

const thermidor_en = {
    name: 'Thermidor',
    season: 'Summer',
    img: 'https://upload.wikimedia.org/wikipedia/commons/b/bb/Thermidor_commence_le_20_ou_21_juillet.jpg',
    days: [
        { date: '19-07', name: 'Spelt' },
        { date: '20-07', name: 'Common mullein' },
        { date: '21-07', name: 'Melon' },
        { date: '22-07', name: 'Ryegrass' },
        { date: '23-07', name: 'Ram' },
        { date: '24-07', name: 'Horsetail' },
        { date: '25-07', name: 'Mugwort' },
        { date: '26-07', name: 'Safflower' },
        { date: '27-07', name: 'Blackberry' },
        { date: '28-07', name: 'Watering can' },
        { date: '29-07', name: 'Foxtail millet' },
        { date: '30-07', name: 'Common Glasswort' },
        { date: '31-07', name: 'Apricot' },
        { date: '01-08', name: 'Basil' },
        { date: '02-08', name: 'Ewe' },
        { date: '03-08', name: 'Marshmallow' },
        { date: '04-08', name: 'Flax' },
        { date: '05-08', name: 'Almond' },
        { date: '06-08', name: 'Gentian' },
        { date: '07-08', name: 'Lock' },
        { date: '08-08', name: 'Carline thistle' },
        { date: '09-08', name: 'Caper' },
        { date: '10-08', name: 'Lentil' },
        { date: '11-08', name: 'Inula' },
        { date: '12-08', name: 'Otter' },
        { date: '13-08', name: 'Myrtle' },
        { date: '14-08', name: 'Rapeseed' },
        { date: '15-08', name: 'Lupin' },
        { date: '16-08', name: 'Cotton' },
        { date: '17-08', name: 'Mill' },
    ],
}

const fructidor_en = {
    name: 'Fructidor',
    season: 'Summer',
    img: 'https://upload.wikimedia.org/wikipedia/commons/8/8c/Fructidor_commence_le_21_ou_22_ao%C3%BBt.jpg',
    days: [
        { date: '18-08', name: 'Plum' },
        { date: '19-08', name: 'Millet' },
        { date: '20-08', name: 'Puffball' },
        { date: '21-08', name: 'Six-row Barley' },
        { date: '22-08', name: 'Salmon' },
        { date: '23-08', name: 'Tuberose' },
        { date: '24-08', name: 'Winter Barley' },
        { date: '25-08', name: 'Apocynum' },
        { date: '26-08', name: 'Liquorice' },
        { date: '27-08', name: 'Ladder' },
        { date: '28-08', name: 'Watermelon' },
        { date: '29-08', name: 'Fennel' },
        { date: '30-08', name: 'European Barberry' },
        { date: '31-08', name: 'Walnut' },
        { date: '01-09', name: 'Trout' },
        { date: '02-09', name: 'Lemon' },
        { date: '03-09', name: 'Teasel' },
        { date: '04-09', name: 'Buckthorn' },
        { date: '05-09', name: 'Mexican Marigold' },
        { date: '06-09', name: 'Harvesting basket' },
        { date: '07-09', name: 'Wild Rose' },
        { date: '08-09', name: 'Hazelnut' },
        { date: '09-09', name: 'Hops' },
        { date: '10-09', name: 'Sorghum' },
        { date: '11-09', name: 'Crayfish' },
        { date: '12-09', name: 'Bitter orange' },
        { date: '13-09', name: 'Goldenrod' },
        { date: '14-09', name: 'Maize or Corn' },
        { date: '15-09', name: 'Sweet Chestnut' },
        { date: '16-09', name: 'Pack Basket' },
    ],
}

const sansculottides_en = {
    name: 'Sansculottides',
    season: 'Interseason',
    img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Calendrier-republicain-debucourt2.jpg/1017px-Calendrier-republicain-debucourt2.jpg',
    days: [
        { date: '17-09', name: 'Celebration of Virtue' },
        { date: '18-09', name: 'Celebration of Talent' },
        { date: '19-09', name: 'Celebration of Labour' },
        { date: '20-09', name: 'Celebration of Convictions' },
        { date: '21-09', name: 'Celebration of Honors (Awards)' },
        // { date: '22-09', name: 'Celebration of Revolution' }, // TODO only leap years, handle it
    ],
}

const months_en = [vendemiare_en, brumaire_en, frimaire_en, nivose_en, pluviose_en, ventose_en, germinal_en, floreal_en, prairial_en, messidor_en, thermidor_en, fructidor_en, sansculottides_en]

const dates_en = {}
months_en.forEach(month => {
    month.days.forEach((day, index) => {
        dates_en[day.date] = {
            month,
            dayNumber: index + 1,
            name: day.name,
        }
    })
})

function getPreviousDay(date) {
    const previous = new Date(date.getTime())
    previous.setDate(date.getDate() - 1)

    return previous
}

function getNextDay(date) {
    const next = new Date(date.getTime())
    next.setDate(date.getDate() + 1)

    return next
}

function toDateString(date) {
    return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`
}

window.onload = function () {
    const dateInput = document.querySelector('#date')
    const prevDateBtn = document.querySelector('#prev_date')
    const todayBtn = document.querySelector('#today')
    const nextDateBtn = document.querySelector('#next_date')
    const contentDiv = document.querySelector('#content')

    const todayString = toDateString(new Date)
    dateInput.value = todayString
    const [_, month, date] = todayString.split('-')
    handleDate(date, month)

    function handleDate(date, month) {
        const day = dates_en[`${date}-${month}`]
        if (!day) {
            alert('no date found!')
            return
        }

        contentDiv.innerHTML = `<div>
    <h3>${day.dayNumber} of ${day.month.name} (${day.name})</h3>
    <div>
        <p>Season: ${day.month.season}</p>
        <img src="${day.month.img}" alt="month_${day.month.name}">
    </div>
</div>`
    }

    dateInput.addEventListener('change', (e) => {
        const [_, month, date] = e.target.value.split('-')
        handleDate(date, month)
    })

    prevDateBtn.addEventListener('click', () => {
        const dateString = toDateString(getPreviousDay(new Date(dateInput.value)))
        dateInput.value = dateString
        const [_, month, date] = dateString.split('-')
        handleDate(date, month)
    })

    todayBtn.addEventListener('click', () => {
        const dateString = toDateString(new Date())
        dateInput.value = dateString
        const [_, month, date] = dateString.split('-')
        handleDate(date, month)
    })

    nextDateBtn.addEventListener('click', () => {
        const dateString = toDateString(getNextDay(new Date(dateInput.value)))
        dateInput.value = dateString
        const [_, month, date] = dateString.split('-')
        handleDate(date, month)
    })
}
